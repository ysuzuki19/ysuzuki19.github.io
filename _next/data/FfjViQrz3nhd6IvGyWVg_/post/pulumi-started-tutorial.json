{"pageProps":{"toc":[{"content":"はじめに","slug":"はじめに","lvl":2,"i":0},{"content":"Pulumi とは？","slug":"pulumi-とは","lvl":2,"i":1},{"content":"セットアップ","slug":"セットアップ","lvl":2,"i":2},{"content":"サインアップ","slug":"サインアップ","lvl":3,"i":3},{"content":"CLI のインストール","slug":"cli-のインストール","lvl":3,"i":4},{"content":"Get Started with Google Cloud","slug":"get-started-with-google-cloud","lvl":2,"i":5},{"content":"Begin","slug":"begin","lvl":3,"i":6},{"content":"Create a New Project","slug":"create-a-new-project","lvl":3,"i":7},{"content":"Review the New Project","slug":"review-the-new-project","lvl":3,"i":8},{"content":"Deploy the Stack","slug":"deploy-the-stack","lvl":3,"i":9},{"content":"Modify the Program","slug":"modify-the-program","lvl":3,"i":10},{"content":"Deploy the Changes","slug":"deploy-the-changes","lvl":3,"i":11},{"content":"Destroy the Stack","slug":"destroy-the-stack","lvl":3,"i":12},{"content":"おわりに","slug":"おわりに","lvl":2,"i":13},{"content":"参考","slug":"参考","lvl":2,"i":14}],"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h2, {\n      id: \"はじめに\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#はじめに\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"はじめに\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"以下の作業は Linux で行っています．\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"pulumi-とは\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#pulumi-とは\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Pulumi とは？\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Apache2.0 でライセンスされた OSS の IaC ツールであり，AWS CDK と類似したコード化を実現する．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"IaC ツールとしてよく耳にするのが，AWS CloudFormation や OSS の Terraform であり，そちらはテンプレート型の記法により IaC を実現している．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"AWS のリソースのみを使う場合は CloudFormation/CDK を使うのが良いと思うが，GCP を使いたかったので，Pulumi を使えるようになりたかったのが，今回 Pulumi を試してみた背景である．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"ちなみに，調べてはじめて知ったが，GCP にも Cloud Deployment Manager という YAML 形式で記述する IaC ツールがあるようだ．\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"セットアップ\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#セットアップ\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"セットアップ\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"サインアップ\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#サインアップ\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"サインアップ\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://www.pulumi.com\",\n        children: \"ここ\"\n      }), \"からサインアップする．\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"cli-のインストール\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#cli-のインストール\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"CLI のインストール\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"マイページにインストール方法が表示されるので，それに従いコマンドを実行する．\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [_jsx(_components.span, {\n          className: \"token function\",\n          children: \"curl\"\n        }), \" -fsSL https://get.pulumi.com \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"|\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"sh\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"/home/<username>/.pulumi\"\n      }), \"内にバイナリが配置され，PATH も上記コマンドで追加される．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"アンインストールしたい場合，\", _jsx(_components.code, {\n        children: \"~/.pulumi\"\n      }), \"を削除して\", _jsx(_components.code, {\n        children: \".bashrc\"\n      }), \"等に追加された\", _jsx(_components.code, {\n        children: \".pulumi\"\n      }), \"を PATH に追加する記述を削除するとよい．\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"get-started-with-google-cloud\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#get-started-with-google-cloud\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Get Started with Google Cloud\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Pulumi で Google Cloud にインフラをデプロイするための\", _jsx(_components.a, {\n        href: \"https://www.pulumi.com/docs/get-started/gcp/\",\n        children: \"チュートリアル\"\n      }), \"として，以下を行う．\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Google Cloud アカウントへのアクセス設定\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Pulumi プロジェクトを作る\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Google Cloud Storage バケットをプロビジョニングする\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"ホスティングを目的とし，バケットに\", _jsx(_components.code, {\n          children: \"index.html\"\n        }), \"を配置する．\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"プロビジョニングしたリソースをクリーンアップする\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"begin\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#begin\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Begin\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"言語の選択肢としては，TyeScript/JavaScript/Python/Go/C#がある．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"以前 aws-cdk を使っていた時には TypeScript を使っていたので思考停止して TS を使いたかったが，初めて触るツールだったので，再度技術選定をしようと思った．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"おそらく，「プログラミング言語で IaC を実現」といえど，プログラミングと言うよりは一定のルールに基づいてインフラを記述するための手段の一つとしてプログラミング言語の記述形式を取っているという前提の元だと思うので，以下の判断基準が挙げられる．\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"サンプルの豊富さ\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"言語の記法が簡潔\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"言語自体に慣れている\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"この中でクリティカルなのがサンプルの豊富さであるが，最初に脳内で２つに絞った．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"まずサンプル数を確認する前に絞り込んだが，TypeScript/Python/Go の 3 択にしようと思った．JS を使う選択をするなら TS の方が良いという判断も含めており，それは，TS/JS のサンプルは実質相互に利用可能であり，TS の方が補完が効きやすいという理由からである．C#を使わないと決めたのは，そもそも C#を使ったことがなく今後も自分は使わなそうという理由からである．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"逆に，TypeScript/Python/Go を候補から外さなかった理由として，TypeScript は Web 開発によく使われる言語であり自分も慣れ親しんでいるため，Python は広く用いられており記述の簡潔さがありつつ自分もある程度使っているため，Go はバックエンドで使いやすい言語で自分も適度に触れているためである．\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Pulumi のサンプルはどうやら公式 Github アカウントの\", _jsx(_components.a, {\n        href: \"https://github.com/pulumi/examples\",\n        children: \"リポジトリ\"\n      }), \"にあり，リポジトリのルートに置かれているようである．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"サンプルの言語は命名規則で分類されており，\", _jsx(_components.code, {\n        children: \"ts/js/py/go/cs\"\n      }), \"で区別されている．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"見る限り，上記 5 つに分類されていないもの(\", _jsx(_components.code, {\n        children: \"fs\"\n      }), \")があったが今回は無視した．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"適当に Python スクリプトを書いてカウントしたところ，\", _jsx(_components.code, {\n        children: \"{'ts': 113, 'js': 14, 'py': 58, 'go': 32, 'cs': 34}\"\n      }), \"となり，ts が最も多く，次点の py の２倍近かった．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"以上の結果を踏まえ，Pulumi を触れるための言語を TypeScript に決定した（よかった）．\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"create-a-new-project\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#create-a-new-project\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Create a New Project\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://www.pulumi.com/docs/get-started/gcp/create-project/\",\n        children: \"ドキュメント\"\n      }), \"の指示に従い，プロジェクトの設定をした．ProjectID は，事前に専用に作成した GCP プロジェクトを設定した．\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"review-the-new-project\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#review-the-new-project\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Review the New Project\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Pulumi.yaml\"\n        }), \"はプロジェクトの定義\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Pulumi.dev.yaml\"\n        }), \"はプロジェクトの設定（リージョンなど）\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"index.ts\"\n        }), \"はインフラの記述\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"また，\", _jsx(_components.code, {\n        children: \"gcp.storage.Bucket\"\n      }), \"の\", _jsx(_components.code, {\n        children: \"location\"\n      }), \"が生成時に\", _jsx(_components.code, {\n        children: \"US\"\n      }), \"となっているので，\", _jsx(_components.a, {\n        href: \"https://cloud.google.com/storage/docs/locations\",\n        children: \"GCP のバケットロケーションリファレンス\"\n      }), \"をもとに`ASIA-NORTHEAST1'と以下のように変更した．\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-typescript\",\n      children: _jsxs(_components.code, {\n        className: \"language-typescript\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"import\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token imports\",\n          children: [_jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"as\"\n          }), \" pulumi\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'@pulumi/pulumi'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"import\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token imports\",\n          children: [_jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"as\"\n          }), \" gcp\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'@pulumi/gcp'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Create a GCP resource (Storage Bucket)\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucket \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Bucket\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'my-bucket'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"location\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'ASIA-NORTHEAST1'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Export the DNS name of the bucket\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketName \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"url\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"deploy-the-stack\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#deploy-the-stack\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Deploy the Stack\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"$ pulumi up\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"を実行すると，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [\"Previewing update \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"dev\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \"\\n\\nView Live: https://app.pulumi.com/\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"<\"\n        }), \"username\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \">\"\n        }), \"/quickstart/dev/previews/\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"<\"\n        }), \"id\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \">\"\n        }), \"\\n\\n     Type                   Name            Plan\\n +   pulumi:pulumi:Stack    quickstart-dev  create\\n +   └─ gcp:storage:Bucket  my-bucket       create\\n\\nResources:\\n    + \", _jsx(_components.span, {\n          className: \"token number\",\n          children: \"2\"\n        }), \" to create\\n\\nDo you want to perform this update?  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), \"Use arrows to move, enter to select, \", _jsx(_components.span, {\n          className: \"token builtin class-name\",\n          children: \"type\"\n        }), \" to filter\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"yes\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \">\"\n        }), \" no\\n  details\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"と表示され，\", _jsx(_components.code, {\n        children: \"View Live\"\n      }), \"リンクに飛ぶと各種情報をブラウザから閲覧することが出来る（すごい）．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"また，\", _jsx(_components.code, {\n        children: \"detail\"\n      }), \"を選択すると，aws-cdk 同様にインフラの変更部を表示することが出来る．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"yes\"\n      }), \"を選択することで，生成に成功した雰囲気がでた．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"GCP コンソールの該当プロジェクトの Storage を確認したところ，しっかりとバケットが生成されていた．\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"$ pulumi stack output bucketName\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"を実行すると，バケット名が出力される．\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"また，Pulumi 上でもアクティビティを閲覧することで，同様の情報を確認できる．\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"modify-the-program\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#modify-the-program\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Modify the Program\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"指示に従い，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [_jsx(_components.span, {\n          className: \"token function\",\n          children: \"cat\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"<<\"\n        }), _jsxs(_components.span, {\n          className: \"token string\",\n          children: [\"EOT\", _jsxs(_components.span, {\n            className: \"token bash punctuation\",\n            children: [\" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \">\"\n            }), \" index.html\"]\n          }), \"\\n<html>\\n    <body>\\n        <h1>Hello, Pulumi!</h1>\\n    </body>\\n</html>\\nEOT\"]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"を実行するとデプロイする\", _jsx(_components.code, {\n        children: \"index.html\"\n      }), \"が生成される（手動で作っても問題ない）．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"また，以下を\", _jsx(_components.code, {\n        children: \"index.ts\"\n      }), \"に追記した．\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-typescript\",\n      children: _jsxs(_components.code, {\n        className: \"language-typescript\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketObject \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"BucketObject\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  bucket\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"name\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  source\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"pulumi\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"asset\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"FileAsset\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"deploy-the-changes\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#deploy-the-changes\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Deploy the Changes\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"$ pulumi up\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"コマンドを実行し，\", _jsx(_components.code, {\n        children: \"detail\"\n      }), \"を確認ののち\", _jsx(_components.code, {\n        children: \"yes\"\n      }), \"を選択すると，今回は Pulumi からメールが届いた．\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [\"$ gsutil \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"ls\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token variable\",\n          children: [_jsx(_components.span, {\n            className: \"token variable\",\n            children: \"$(\"\n          }), \"pulumi stack output bucketName\", _jsx(_components.span, {\n            className: \"token variable\",\n            children: \")\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"により，\", _jsx(_components.code, {\n        children: \"detail\"\n      }), \"選択時に表示された\", _jsx(_components.code, {\n        children: \"index.html-xxxx\"\n      }), \"がストレージに保存されていることが確認できた．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"さらに，ドキュメントに従い\", _jsx(_components.code, {\n        children: \"index.ts\"\n      }), \"を\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-typescript\",\n      children: _jsxs(_components.code, {\n        className: \"language-typescript\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"import\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token imports\",\n          children: [_jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"as\"\n          }), \" pulumi\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'@pulumi/pulumi'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"import\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token imports\",\n          children: [_jsx(_components.span, {\n            className: \"token operator\",\n            children: \"*\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword module\",\n            children: \"as\"\n          }), \" gcp\"]\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"from\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'@pulumi/gcp'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Create a GCP resource (Storage Bucket)\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucket \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Bucket\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'my-bucket'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"location\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'ASIA-NORTHEAST1'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  website\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    mainPageSuffix\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  uniformBucketLevelAccess\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketIAMBinding \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"BucketIAMBinding\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'my-bucket-IAMBinding'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    bucket\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"name\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n    role\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'roles/storage.objectViewer'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n    members\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"[\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'allUsers'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"]\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketObject \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"BucketObject\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  bucket\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"name\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  contentType\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'text/html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  source\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"pulumi\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"asset\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"FileAsset\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\\n\", _jsx(_components.span, {\n          className: \"token comment\",\n          children: \"// Export the DNS name of the bucket\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketName \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"url\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token keyword module\",\n          children: \"export\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucketEndpoint \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" pulumi\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: \"concat\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'http://storage.googleapis.com/'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"name\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'/'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  bucketObject\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"name\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"と書き換え，再度\", _jsx(_components.code, {\n        children: \"pulumi up\"\n      }), \"した．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"また，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [\"$ \", _jsx(_components.span, {\n          className: \"token function\",\n          children: \"curl\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token variable\",\n          children: [_jsx(_components.span, {\n            className: \"token variable\",\n            children: \"$(\"\n          }), \"pulumi stack output bucketEndpoint\", _jsx(_components.span, {\n            className: \"token variable\",\n            children: \")\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"を実行すると，先ほど作成して Storage に配置した\", _jsx(_components.code, {\n        children: \"index.html\"\n      }), \"の内容が出力された．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"さらに，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [\"$ \", _jsx(_components.span, {\n          className: \"token builtin class-name\",\n          children: \"echo\"\n        }), \" \", _jsxs(_components.span, {\n          className: \"token variable\",\n          children: [_jsx(_components.span, {\n            className: \"token variable\",\n            children: \"$(\"\n          }), \"pulumi stack output bucketEndpoint\", _jsx(_components.span, {\n            className: \"token variable\",\n            children: \")\"\n          })]\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"として出力されたアドレスにアクセスすると，\", _jsx(_components.code, {\n        children: \"Hello, Pulumi!\"\n      }), \"と書かれたページが表示 s れた．\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"destroy-the-stack\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#destroy-the-stack\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Destroy the Stack\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"$ pulumi destroy\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"チュートリアルに従い実行したが，コマンドに失敗し，インフラの削除が出来ず，以下のエラーが出力された．\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsxs(_components.code, {\n        className: \"language-bash\",\n        children: [\"Diagnostics:\\n  gcp:storage:Bucket \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), \"my-bucket\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), \":\\n    error: deleting urn:pulumi:dev::quickstart::gcp:storage/bucket:Bucket::my-bucket: \", _jsx(_components.span, {\n          className: \"token number\",\n          children: \"1\"\n        }), \" error occurred:\\n        * Error trying to delete bucket my-bucket-f9946b3 containing objects without \", _jsxs(_components.span, {\n          className: \"token variable\",\n          children: [_jsx(_components.span, {\n            className: \"token variable\",\n            children: \"`\"\n          }), \"force_destroy\", _jsx(_components.span, {\n            className: \"token variable\",\n            children: \"`\"\n          })]\n        }), \" \", _jsx(_components.span, {\n          className: \"token builtin class-name\",\n          children: \"set\"\n        }), \" to \", _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"再度コマンドを実行したが，結果は変わらなかった．\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"そこで，ログを見ると，Storage のオプションがマズイらしく，Destroy ができない．具体的には，\", _jsx(_components.code, {\n        children: \"force_destroy\"\n      }), \"が\", _jsx(_components.code, {\n        children: \"true\"\n      }), \"でないとバケットを削除できないとのこと．\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Pulumi のチュートリアルコードが間違えているらしく，\", _jsx(_components.code, {\n        children: \"gcp.storage.Bucket\"\n      }), \"のオプションがこのままだと Destroy できないようだ（悲しい）．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"そこで，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-typescript\",\n      children: _jsxs(_components.code, {\n        className: \"language-typescript\",\n        children: [_jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"const\"\n        }), \" bucket \", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \"=\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token keyword\",\n          children: \"new\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token class-name\",\n          children: \"gcp\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token property-access\",\n          children: \"storage\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \".\"\n        }), _jsx(_components.span, {\n          className: \"token method function property-access\",\n          children: _jsx(_components.span, {\n            className: \"token maybe-class-name\",\n            children: \"Bucket\"\n          })\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"(\"\n        }), _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'my-bucket'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token dom variable\",\n          children: \"location\"\n        }), _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'ASIA-NORTHEAST1'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  forceDestroy\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  website\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"{\"\n        }), \"\\n    mainPageSuffix\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token string\",\n          children: \"'index.html'\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  \", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n  uniformBucketLevelAccess\", _jsx(_components.span, {\n          className: \"token operator\",\n          children: \":\"\n        }), \" \", _jsx(_components.span, {\n          className: \"token boolean\",\n          children: \"true\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \",\"\n        }), \"\\n\", _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \"}\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \")\"\n        }), _jsx(_components.span, {\n          className: \"token punctuation\",\n          children: \";\"\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"と書き換え，再度\", _jsx(_components.code, {\n        children: \"pulumi up\"\n      }), \"した．\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"その後，\"\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-bash\",\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"$ pulumi destroy\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"をすると成功し，GCP コンソールを見るとバケットごとなくなっていた（嬉しい）．\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"おわりに\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#おわりに\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"おわりに\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"途中で気づいたのだが，Pulumi のサイトのアイコンが，サブドメイン（用途）毎に回転していて，かなりデザインに凝っていてかなり好印象だった．\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"機能面でも，同じアイコンが並んだ時にどれが\", _jsx(_components.code, {\n        children: \"www.pulumi.com\"\n      }), \"なのか\", _jsx(_components.code, {\n        children: \"app.pulumi.com\"\n      }), \"なのか判別できるため，チョット優しいなと思った．\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"参考\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#参考\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"参考\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.pulumi.com/docs/get-started/gcp/next-steps/\",\n          children: \"https://www.pulumi.com/docs/get-started/gcp/next-steps/\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"scope":{"title":"pulumi初めてみた","date":"2021-11-28T02:12:02","description":"OSSのIaCツールのpulumiのチュートリアルやりました！","tags":["pulumi","typescript","cloud","gcp","iac"]}},"__N_SSG":true}